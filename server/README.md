# λ°±μ—”λ“ ν”„λ΅μ‹ μ„λ²„

Node.js + Express κΈ°λ° λ°±μ—”λ“ ν”„λ΅μ‹ μ„λ²„

## π“‹ κΈ°λ¥

- κµ­ν† κµν†µλ¶€ κ³µκ³µλ°μ΄ν„° API ν”„λ΅μ‹
- CORS μ²λ¦¬
- μΈλ©”λ¨λ¦¬ μΊμ‹± (node-cache)
- μ—λ¬ ν•Έλ“¤λ§

## π€ μ„¤μΉ λ° μ‹¤ν–‰

### 1. μμ΅΄μ„± μ„¤μΉ

```bash
npm install
```

### 2. ν™κ²½ λ³€μ μ„¤μ •

`.env` νμΌμ„ μƒμ„±ν•κ³  API ν‚¤λ¥Ό μ…λ ¥ν•μ„Έμ”:

```bash
# .env νμΌ
MOLIT_API_KEY=your_api_key_here
PORT=3000
CORS_ORIGIN=http://localhost:8000
```

API ν‚¤ λ°κΈ‰:
1. [κ³µκ³µλ°μ΄ν„°ν¬ν„Έ](https://www.data.go.kr) νμ›κ°€μ…
2. [μ•„ννΈ λ§¤λ§¤ μ‹¤κ±°λκ°€ API](https://www.data.go.kr/data/15126469/openapi.do) μ‹ μ²­
3. λ°κΈ‰λ μΈμ¦ν‚¤λ¥Ό `.env` νμΌμ— μ…λ ¥

### 3. μ„λ²„ μ‹¤ν–‰

**κ°λ° λ¨λ“** (μλ™ μ¬μ‹μ‘):
```bash
npm run dev
```

**ν”„λ΅λ•μ… λ¨λ“**:
```bash
npm start
```

## π“΅ API μ—”λ“ν¬μΈνΈ

### 1. μ•„ννΈ λ§¤λ§¤ μ‹¤κ±°λκ°€ μ΅°ν

```
GET /api/property/transaction?lawdCd={λ²•μ •λ™μ½”λ“}&dealYmd={κ³„μ•½λ…„μ›”}
```

**νλΌλ―Έν„°**:
- `lawdCd`: λ²•μ •λ™μ½”λ“ (5μλ¦¬, μ: 11680 = κ°•λ‚¨κµ¬)
- `dealYmd`: κ³„μ•½λ…„μ›” (YYYYMM, μ: 202401)

**μ‘λ‹µ μμ‹**:
```json
{
  "cached": false,
  "data": [
    {
      "aptName": "λλ―Έμ•κ°•λ‚¨ν¬λ μ¤νΈ",
      "dong": "κ°ν¬λ™",
      "jibun": "123",
      "dealAmount": 158000,
      "dealYear": "2024",
      "dealMonth": "1",
      "dealDay": "15",
      "buildYear": "2020",
      "area": 84.5,
      "floor": 10
    }
  ]
}
```

### 2. μ•„ννΈ μ „μ›”μ„Έ μ‹¤κ±°λκ°€ μ΅°ν

```
GET /api/property/rent?lawdCd={λ²•μ •λ™μ½”λ“}&dealYmd={κ³„μ•½λ…„μ›”}
```

**νλΌλ―Έν„°**: λ™μΌ

### 3. μ§€μ—­λ…μΌλ΅ λ²•μ •λ™μ½”λ“ κ²€μƒ‰

```
GET /api/property/search?region={μ§€μ—­λ…}
```

**νλΌλ―Έν„°**:
- `region`: μ§€μ—­λ… (μ: κ°•λ‚¨κµ¬, νκµ)

**μ‘λ‹µ μμ‹**:
```json
{
  "region": "κ°•λ‚¨κµ¬",
  "lawdCd": "11680"
}
```

## π—‚οΈ ν”„λ΅μ νΈ κµ¬μ΅°

```
server/
β”β”€β”€ index.js              # Express λ©”μΈ μ„λ²„
β”β”€β”€ routes/
β”‚   β””β”€β”€ property.js       # API λΌμ°νΈ
β”β”€β”€ services/
β”‚   β””β”€β”€ molitsAPI.js      # κµ­ν† κµν†µλ¶€ API νΈμ¶
β””β”€β”€ utils/
    β””β”€β”€ cache.js          # μΊμ‹± μ ν‹Έλ¦¬ν‹°
```

## π”§ ν™κ²½ λ³€μ

| λ³€μ | μ„¤λ… | κΈ°λ³Έκ°’ |
|------|------|--------|
| `MOLIT_API_KEY` | κµ­ν† κµν†µλ¶€ API μΈμ¦ν‚¤ | (ν•„μ) |
| `PORT` | μ„λ²„ ν¬νΈ | 3000 |
| `CORS_ORIGIN` | CORS ν—μ© μ¤λ¦¬μ§„ | http://localhost:8000 |
| `CACHE_TTL` | μΊμ‹ TTL (μ΄) | 3600 |
| `API_TIMEOUT` | API νƒ€μ„μ•„μ›ƒ (ms) | 10000 |

## π§ ν…μ¤νΈ

### μ„λ²„ μƒνƒ ν™•μΈ
```bash
curl http://localhost:3000/
```

### API ν…μ¤νΈ
```bash
# κ°•λ‚¨κµ¬ 2024λ…„ 1μ›” μ‹¤κ±°λκ°€ μ΅°ν
curl "http://localhost:3000/api/property/transaction?lawdCd=11680&dealYmd=202401"
```

## β οΈ μ£Όμμ‚¬ν•­

- API ν‚¤λ” μ λ€ Gitμ— μ»¤λ°‹ν•μ§€ λ§μ„Έμ” (.env νμΌμ€ .gitignoreμ— ν¬ν•¨λ¨)
- κ³µκ³µλ°μ΄ν„°ν¬ν„Έ APIμ—λ” μΌμΌ μ”μ²­ μ ν•μ΄ μμµλ‹λ‹¤
- μΊμ‹±μ„ ν†µν•΄ λ¶ν•„μ”ν• API νΈμ¶μ„ μ¤„μ΄μ„Έμ”

## π“ λ²•μ •λ™μ½”λ“ μ°Έκ³ 

| μ§€μ—­ | λ²•μ •λ™μ½”λ“ |
|------|------------|
| κ°•λ‚¨κµ¬ | 11680 |
| μ„μ΄κµ¬ | 11650 |
| μ†΅νκµ¬ | 11710 |
| κ°•λ™κµ¬ | 11740 |
| μ„±λ‚¨μ‹ λ¶„λ‹Ήκµ¬ | 41135 |
| κ°•μ„κµ¬ | 11500 |

μ „μ²΄ λ²•μ •λ™μ½”λ“λ” [ν–‰μ •ν‘μ¤€μ½”λ“κ΄€λ¦¬μ‹μ¤ν…](https://www.code.go.kr)μ—μ„ ν™•μΈ κ°€λ¥ν•©λ‹λ‹¤.
